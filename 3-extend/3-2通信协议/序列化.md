# 一、序列化
数据在传输的过程中需要按照一定的结构进行序列化，接收方需要反序列化。
java常用的序列化框架：jdk自带序列化、FastJson、hessian、kryo、protobuf等。
序列化框架实现原理。

## 1.1 jdk自带序列化
基于ObjectInputStream和ObjectOutputStream实现的序列化，只能序列化实现了Serializable  
接口的类；序列化和反序列化的serialVersionUID必须相同。

### 缺陷
（1）无法跨语言；
（2）有安全风险，反序列化可以执行任意类型的代码；
（3）序列化后的二进制流太大，存储增加、占用带宽增加，影响吞吐量；
（4）序列化性能差。

## 1.2 Json序列化
Jackson：格式不标准
Fastjson：通用、性能好；经常有漏洞
Gson：功能强大，性能低于FastJson


## 1.3 hessian
支持跨语言
性能高于jdk，但还是不高

## 1.4 Kryo
高性能，比hessian还高
不向前、向后兼容；跨语言复杂

## 1.5 protobuf
跨语言，更快、更小、更便捷，但是需要按照环境。

### 为什么更小
https://www.jianshu.com/p/72108f0aefca
protobuf使用protobuf协议，使用.proto文件在序列化、反序列化过程中可以节省很多非必要的字段；
比如json中的"{:"，因为类字段是有序的便于解析，使用tag|value分割。
